<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ランキング1位獲得通知</title>
    <link rel="stylesheet" href="asset/css/style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <style>
      /* Make bold text more prominent as in the image */
      .notification-p strong {
        color: #e6372e; /* Red color from project style */
        font-weight: 700;
      }

      /* Styles for the new image display section */
      .image-preview-section {
        margin: 2rem auto; /* Center and add vertical spacing */
        width: fit-content; /* Adjust width to content */
        text-align: center;
      }

      .preview-label {
        font-size: 0.9rem;
        color: #666;
        margin-bottom: 0.5rem;
        display: block; /* Ensure it takes full width */
      }

      .image-container {
        position: relative; /* For positioning the ranking stamp */
        width: 250px; /* Fixed width for the image container */
        height: 250px; /* Fixed height to make it square */
        overflow: hidden; /* Hide anything outside the container */
        border: 1px solid #ddd; /* Light border */
        border-radius: 8px; /* Slightly rounded corners */
        background-color: #fff; /* White background */
        display: flex; /* Use flexbox to center image */
        align-items: center; /* Center vertically */
        justify-content: center; /* Center horizontally */
      }

      .product-image {
        max-width: 100%; /* Ensure image fits container */
        max-height: 100%; /* Ensure image fits container */
        display: block;
        object-fit: contain; /* Scale image to fit within the container without cropping */
      }

      .ranking-stamp {
        position: absolute;
        top: 10px; /* Adjust as needed */
        right: 10px; /* Adjust as needed */
        width: 80px; /* Size of the stamp */
        height: 80px; /* Size of the stamp */
        background-color: #e6372e; /* Red background for stamp */
        color: #fff; /* White text for stamp */
        border-radius: 50%; /* Make it circular */
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        font-size: 1.1rem; /* Adjust font size */
        line-height: 1; /* Adjust line height for multi-line text */
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        z-index: 10; /* Ensure stamp is above the image */
      }

      .ranking-stamp span {
        display: block;
      }
      .ranking-stamp .rank-number {
        font-size: 1.8rem; /* Larger font for the number */
      }


      /* Updated button styles for download/share */
      .action-buttons {
        display: flex;
        gap: 1rem; /* Space between buttons */
        justify-content: center;
        margin-top: 1.5rem; /* Space above buttons */
      }

      .action-button {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0.8rem 1.5rem;
        border: none;
        border-radius: 6px;
        font-size: 1rem;
        cursor: pointer;
        transition: background-color 0.2s ease;
        text-decoration: none; /* For anchor tags */
      }

      .action-button svg {
        margin-right: 0.5rem;
        width: 20px;
        height: 20px;
      }

      .btn-download {
        background-color: #4CAF50; /* Green */
        color: white;
      }
      .btn-download:hover {
        background-color: #45a049;
      }

      .btn-share-x {
        background-color: #000; /* Black for X/Twitter */
        color: white;
      }
      .btn-share-x:hover {
        background-color: #333;
      }

      .url-rakuten-check {
        margin-top: 1.5rem;
        font-size: 0.9rem;
      }
      .url-rakuten-check a {
        color: #007bff; /* Standard link color */
        text-decoration: underline;
      }
      .url-rakuten-check a:hover {
        color: #0056b3;
      }
    </style>
  </head>
  <body class="notification-page">
    <div class="setting-card notification-card" style="text-align: center">
      <div class="icon-wrapper">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.624l.259 1.035.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 18l1.036.259a3.375 3.375 0 002.455 2.456z"
          />
        </svg>
      </div>

      <h1 class="notification-h1">おめでとうございます！</h1>
      <p class="notification-p" style="margin-bottom: 0.5rem">
        店舗様の製品が<strong>楽天</strong>でランキング<strong>1位</strong>を獲得しました！
      </p>
      <p class="notification-p">
        最新のランキング画像が自動で作成され、店舗様のショップページにアップロードされました。
      </p>
      <div class="image-preview-section">
        <span class="preview-label">プレビュー</span>
        <div class="image-container">
          <img
            src="https://via.placeholder.com/250x250?text=Product+Image"
            alt="製品イメージ"
            class="product-image"
          />
          <div class="ranking-stamp">
            <span>総合</span>
            <span class="rank-number">1位</span>
          </div>
        </div>

        <div class="action-buttons">
          <a href="/path/to/generated_rank1_image.jpg" download="product_rank1_image.jpg" class="action-button btn-download">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3" />
            </svg>
            ランキング画像ダウンロード (JPG)
          </a>
          <a href="https://twitter.com/intent/tweet?text=弊社の製品が楽天ランキング1位を獲得しました！%0A詳細はこちら%3A[楽天の製品URL]&url=[生成された画像のURL]" target="_blank" class="action-button btn-share-x">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm4.787 7.713a5.531 5.531 0 01-1.6.438c-.469.516-1.125.867-1.844.938.836-.5 1.484-1.258 1.797-2.188a6.113 6.113 0 00-1.922-.766c-.78-.836-1.898-1.352-3.133-1.352-2.383 0-4.312 1.93-4.312 4.313 0 .344.039.672.109.984a12.235 12.235 0 01-8.914-4.508c-.141.25-.219.539-.219.86 0 1.492.766 2.805 1.922 3.586-.719-.023-1.398-.219-1.984-.547v.055c0 2.086 1.484 3.82 3.445 4.219-.367.102-.75.156-1.156.156-.281 0-.547-.023-.805-.078.547 1.703 2.133 2.945 4.023 2.973-1.477 1.156-3.328 1.844-5.352 1.844-.352 0-.695-.023-1.031-.062C4.156 19.336 6.375 20 8.797 20c7.047 0 10.883-5.836 10.883-10.883 0-.164-.008-.328-.016-.484a7.863 7.863 0 001.93-2.008z" />
            </svg>
            Xでシェア
          </a>
        </div>
        <p class="url-rakuten-check">
            <a href="https://www.rakuten.ne.jp/..." target="_blank">楽天の製品ページを確認する (外部リンク)</a>
        </p>
      </div>
      </div>

    <script>
      // The original copy button script for the URL input
      const copyButton = document.getElementById("copy-button"); // This ID is now on the "コピー" button
      const urlInput = document.getElementById("url-input");

      if (copyButton && urlInput) { // Check if elements exist
          copyButton.addEventListener("click", () => {
              const originalText = copyButton.textContent;
              urlInput.select();
              urlInput.setSelectionRange(0, 99999);

              try {
                  document.execCommand("copy");
                  copyButton.textContent = "コピーしました！";
                  copyButton.classList.add("copied");
                  setTimeout(() => {
                      copyButton.textContent = originalText;
                      copyButton.classList.remove("copied");
                  }, 2000);
              } catch (err) {
                  console.error("コピーに失敗しました", err);
              }
          });
      }

      // Placeholder for actual image URL and product details
      // In a real application, these would be dynamically populated by your backend
      document.querySelector('.product-image').src = 'https://example.com/your-product-image.jpg'; // <-- REPLACE THIS WITH YOUR GENERATED IMAGE URL
      // If you are overlaying the stamp in JS:
      // document.querySelector('.product-image').src = 'https://via.placeholder.com/250x250?text=Product+Image+from+API';
      // document.querySelector('.ranking-stamp .rank-number').textContent = '1位'; // Dynamically update rank

      // Update the download link with the actual path to the generated image
      // document.querySelector('.btn-download').href = '/path/to/your/generated_rank1_image.jpg'; // Your backend should provide this
      // Update the share on X link
      // document.querySelector('.btn-share-x').href = `https://twitter.com/intent/tweet?text=弊社の製品が楽天ランキング1位を獲得しました！%0A詳細はこちら%3A${encodeURIComponent('URL_TO_YOUR_RAKUTEN_PRODUCT_PAGE')}&url=${encodeURIComponent('URL_TO_YOUR_GENERATED_IMAGE')}`;


    </script>
  </body>
</html>